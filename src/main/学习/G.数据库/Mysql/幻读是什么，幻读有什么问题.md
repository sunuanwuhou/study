# Table of Contents



1. 什么是幻读？
   幻读是指在同一个事务中，存在前后两次查询同一个范围的数据，但是第二次查询却看到了
   第一次查询没看到的行。
   注意，幻读出现的场景
   第一：事务的隔离级别为可重复读，且是当前读
   第二：幻读仅专指新插入的行
2. 幻读带来的问题？
   一是，对行锁语义的破坏
   二是，破坏了数据一致性  bing log 同步问题。
3. ：怎么避免幻读？
   存储引擎采用加间隙锁的方式来避免出现幻读
4. 为啥会出现幻读？
   行锁只能锁定存在的行，针对新插入的操作没有限定
5. ：间隙锁是啥？它怎么避免出现幻读的？它引入了什么新的问题？
   间隙锁，是专门用于解决幻读这种问题的锁，它锁的了行与行之间的间隙，能够阻塞新插入
   的操作
   间隙锁的引入也带来了一些新的问题，比如：降低并发度，可能导致死锁。
   注意，读读不互斥，读写/写读/写写是互斥的，但是间隙锁之间是不冲突的，间隙锁会阻塞
   插入操作
   **另外，间隙锁在可重复读级别下才是有效的**
